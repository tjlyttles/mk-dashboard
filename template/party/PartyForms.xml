<?xml version="1.0" encoding="UTF-8"?>
<screen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/xml-screen-2.1.xsd"
        default-menu-include="false">

    <parameter name="partyId"/>

    <widgets>
        <section name="EditPerson">
            <widgets>
                <container-dialog id="EditPersonDialog" button-text="Edit" condition="orderEditable">
                    <form-single name="EditPersonForm" transition="updatePerson">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>

                        <field name="firstName">
                            <default-field>
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="middleName">
                            <default-field title="Middle Name (Optional)">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="lastName">
                            <default-field>
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="suffix">
                            <default-field title="Suffix (Optional)">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="nickname">
                            <default-field title="Other Name (AKA) (Optional)">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="socialSecurityNumber">
                            <default-field>
                                <text-line mask="###-##-####"/>
                            </default-field>
                        </field>
                        <field name="birthDate">
                            <default-field title="Date of Birth">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; (!!value &amp;&amp; value.indexOf('_') === -1) || 'Please enter a valid date of birth.', value =&gt; !value || value.indexOf('_') !== -1 || moment(value,'MM-DD-YYYY').add(18,'y') &lt; Date.now() || 'Applicants must be at least 18 years of age to apply for an account.', value =&gt; moment(value,'MM-DD-YYYY') &gt; moment().subtract(130,'y') || 'Please enter a valid date of birth.'"/>
                            </default-field>
                        </field>
                        <field name="maritalStatusEnumId">
                            <default-field title="Marital Status">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${description}" key="${enumId}">
                                        <entity-find entity-name="moqui.basic.Enumeration">
                                            <econdition field-name="enumTypeId" value="MaritalStatus"/>
                                            <order-by field-name="sequenceNum,description"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="employmentStatusEnumId">
                            <default-field title="Employment Status">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${description}" key="${enumId}">
                                        <entity-find entity-name="moqui.basic.Enumeration">
                                            <econdition field-name="enumTypeId" value="EmploymentStatus"/>
                                            <order-by field-name="sequenceNum,description"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>

                        <field-layout>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="firstName"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="middleName"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="lastName"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="suffix"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="nickname"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="birthDate"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="socialSecurityNumber"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="maritalStatusEnumId"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employmentStatusEnumId"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="submit"/></field-col>
                            </field-col-row>
                        </field-layout>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="EditContact">
            <widgets>
                <container-dialog id="EditContactDialog" button-text="Edit" width="960" condition="orderEditable">
                    <form-single name="EditContactForm" transition="updateContact">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>

                        <field name="address1">
                            <default-field title="Residential Address">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="unitNumber">
                            <default-field title="Apt / Unit # (Optional)">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="postalCode">
                            <default-field title="ZIP Code">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>
                        <field name="city">
                            <default-field>
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="stateProvinceGeoId">
                            <default-field title="State">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${geoName}" key="${toGeoId}">
                                        <entity-find entity-name="moqui.basic.GeoAssocAndToDetail">
                                            <econdition field-name="geoId" value="USA"/>
                                            <econdition field-name="geoTypeEnumId" value="GEOT_STATE"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="addressYears">
                            <default-field title="Years">
                                <text-line input-type="number" rules="value =&gt; (value &gt;= 0 &amp;&amp; value &lt;= 100) || 'Please enter a number between 0 and 100.'"/>
                            </default-field>
                        </field>
                        <field name="addressMonths">
                            <default-field title="Months">
                                <text-line input-type="number" rules="value =&gt; (value &gt;= 0 &amp;&amp; value &lt;= 11) || 'Please enter a number between 0 and 11.'"/>
                            </default-field>
                        </field>
                        <field name="contactNumber">
                            <default-field title="Phone Number">
                                <text-line mask="###-###-####" input-type="tel"/>
                            </default-field>
                        </field>
                        <field name="contactMechPurposeId">
                            <default-field title="Type">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${description}" key="${contactMechPurposeId}">
                                        <entity-find entity-name="mantle.party.contact.ContactMechPurpose">
                                            <econdition field-name="contactMechTypeEnumId" value="CmtTelecomNumber"/>
                                            <econdition field-name="contactMechPurposeId" operator="in" from="['PhoneHome', 'PhoneMobile', 'PhoneWork']"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="email">
                            <default-field title="Email Address">
                                <text-line input-type="email"/>
                            </default-field>
                        </field>
                        <field name="emailVerify">
                            <default-field title="Verify Email Address">
                                <text-line input-type="email"/>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>

                        <field-layout>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="address1"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="unitNumber"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="postalCode"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="city"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="stateProvinceGeoId"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="addressYears"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="addressMonths"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="contactNumber"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="contactMechPurposeId"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="email"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="emailVerify"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="submit"/></field-col>
                            </field-col-row>
                        </field-layout>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="AddDriversLicense">
            <widgets>
                <container-dialog id="AddDriversLicenseDialog" button-text="Add Driver's License" width="960">
                    <form-single name="AddDriversLicenseForm" transition="addIdentity">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="partyIdTypeEnumId"><default-field><hidden default-value="PtidDriverLicense"/></default-field></field>

                        <field name="idValue">
                            <default-field title="ID Number" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="idIssuedBy">
                            <default-field title="State Issued" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${geoName}" key="${geoName}">
                                        <entity-find entity-name="moqui.basic.GeoAssocAndToDetail">
                                            <econdition field-name="geoId" value="USA"/>
                                            <econdition field-name="geoTypeEnumId" value="GEOT_STATE"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="idIssueDate">
                            <default-field title="Issue Date" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &lt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>
                        <field name="idExpiryDate">
                            <default-field title="Expiration Date" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &gt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="EditDriversLicense">
            <widgets>
                <container-dialog id="EditDriversLicenseDialog" button-text="Edit" width="960" condition="orderEditable &amp;&amp; partyIdTypeEnumId == 'PtidDriverLicense'">
                    <form-single name="EditDriversLicenseForm" transition="updateIdentity">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="partyIdTypeEnumId"><default-field><hidden default-value="PtidDriverLicense"/></default-field></field>

                        <field name="idValue">
                            <default-field title="ID Number" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="idIssuedBy">
                            <default-field title="State Issued" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${geoName}" key="${geoName}">
                                        <entity-find entity-name="moqui.basic.GeoAssocAndToDetail">
                                            <econdition field-name="geoId" value="USA"/>
                                            <econdition field-name="geoTypeEnumId" value="GEOT_STATE"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="idIssueDate">
                            <default-field title="Issue Date" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &lt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>
                        <field name="idExpiryDate">
                            <default-field title="Expiration Date" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &gt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="AddStateIssuedId">
            <widgets>
                <container-dialog id="AddStateIssuedDialog" button-text="Add State Issued ID" width="960">
                    <form-single name="AddStateIssuedForm" transition="addIdentity">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="partyIdTypeEnumId"><default-field><hidden default-value="PtidStateId"/></default-field></field>

                        <field name="idValue">
                            <default-field title="ID Number" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="idIssuedBy">
                            <default-field title="State Issued" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${geoName}" key="${geoName}">
                                        <entity-find entity-name="moqui.basic.GeoAssocAndToDetail">
                                            <econdition field-name="geoId" value="USA"/>
                                            <econdition field-name="geoTypeEnumId" value="GEOT_STATE"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="idIssueDate">
                            <default-field title="Issue Date" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &lt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>
                        <field name="idExpiryDate" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                            <default-field title="Expiration Date">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &gt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="EditStateIssuedId">
            <widgets>
                <container-dialog id="EditStateIssuedDialog" button-text="Edit" width="960" condition="orderEditable &amp;&amp; partyIdTypeEnumId == 'PtidStateId'">
                    <form-single name="EditStateIssuedForm" transition="updateIdentity">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="partyIdTypeEnumId"><default-field><hidden default-value="PtidStateId"/></default-field></field>

                        <field name="idValue">
                            <default-field title="ID Number" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="idIssuedBy">
                            <default-field title="State Issued" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${geoName}" key="${geoName}">
                                        <entity-find entity-name="moqui.basic.GeoAssocAndToDetail">
                                            <econdition field-name="geoId" value="USA"/>
                                            <econdition field-name="geoTypeEnumId" value="GEOT_STATE"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="idIssueDate">
                            <default-field title="Issue Date" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &lt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>
                        <field name="idExpiryDate">
                            <default-field title="Expiration Date" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &gt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="AddMilitaryId">
            <widgets>
                <container-dialog id="AddMilitaryIdDialog" button-text="Add Military ID" width="960">
                    <form-single name="AddMilitaryIdForm" transition="addIdentity">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="partyIdTypeEnumId"><default-field><hidden default-value="PtidMilitaryId"/></default-field></field>

                        <field name="idValue">
                            <default-field title="ID Number" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="idIssuedBy">
                            <default-field title="Country Issued" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${geoName}" key="${geoName}">
                                        <entity-find entity-name="moqui.basic.Geo">
                                            <econdition field-name="geoId" value="USA"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="idIssueDate">
                            <default-field title="Issue Date" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &lt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>
                        <field name="idExpiryDate">
                            <default-field title="Expiration Date" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &gt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="EditMilitaryId">
            <widgets>
                <container-dialog id="EditMilitaryIdDialog" button-text="Edit" width="960" condition="orderEditable &amp;&amp; partyIdTypeEnumId == 'PtidMilitaryId'">
                    <form-single name="EditMilitaryIdForm" transition="updateIdentity">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="partyIdTypeEnumId"><default-field><hidden default-value="PtidMilitaryId"/></default-field></field>

                        <field name="idValue">
                            <default-field title="ID Number" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="idIssuedBy">
                            <default-field title="Country Issued" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${geoName}" key="${geoName}">
                                        <entity-find entity-name="moqui.basic.Geo">
                                            <econdition field-name="geoId" value="USA"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="idIssueDate">
                            <default-field title="Issue Date" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &lt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>
                        <field name="idExpiryDate" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                            <default-field title="Expiration Date">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &gt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="AddPassport">
            <widgets>
                <container-dialog id="AddPassportDialog" button-text="Add Passport" width="960">
                    <form-single name="AddPassportForm" transition="addIdentity">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="partyIdTypeEnumId"><default-field><hidden default-value="PtidPassport"/></default-field></field>

                        <field name="idValue">
                            <default-field title="Passport Number" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="idIssuedBy">
                            <default-field title="Country Issued" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${geoName}" key="${geoName}">
                                        <entity-find entity-name="moqui.basic.Geo">
                                            <econdition field-name="geoId" value="USA"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="idIssueDate">
                            <default-field title="Issue Date" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &lt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>
                        <field name="idExpiryDate">
                            <default-field title="Expiration Date" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &gt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="EditPassport">
            <widgets>
                <container-dialog id="EditPassportDialog" button-text="Edit" width="960" condition="orderEditable &amp;&amp; partyIdTypeEnumId == 'PtidPassport'">
                    <form-single name="EditPassportForm" transition="updateIdentity">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="partyIdTypeEnumId"><default-field><hidden default-value="PtidPassport"/></default-field></field>

                        <field name="idValue">
                            <default-field title="Passport Number" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="idIssuedBy">
                            <default-field title="Country Issued" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${geoName}" key="${geoName}">
                                        <entity-find entity-name="moqui.basic.Geo">
                                            <econdition field-name="geoId" value="USA"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="idIssueDate">
                            <default-field title="Issue Date" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &lt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>
                        <field name="idExpiryDate">
                            <default-field title="Expiration Date" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &gt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="AddPermanentResidentCard">
            <widgets>
                <container-dialog id="AddPermanentResidentCardDialog" button-text="Add Permanent Resident Card" width="960">
                    <form-single name="AddPermanentResidentCardForm" transition="addIdentity">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="partyIdTypeEnumId"><default-field><hidden default-value="PtidArn"/></default-field></field>

                        <field name="idValue">
                            <default-field title="ID Number" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="idIssuedBy">
                            <default-field title="Country Issued" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${geoName}" key="${geoName}">
                                        <entity-find entity-name="moqui.basic.Geo">
                                            <econdition field-name="geoId" value="USA"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="idExpiryDate" validate-service="mkdecision.dashboard.PartyServices.add#Identity">
                            <default-field title="Expiration Date">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &gt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="EditPermanentResidentCard">
            <widgets>
                <container-dialog id="EditPermanentResidentCardDialog" button-text="Edit" width="960" condition="orderEditable &amp;&amp; partyIdTypeEnumId == 'PtidArn'">
                    <form-single name="EditPermanentResidentCardForm" transition="updateIdentity">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="partyIdTypeEnumId"><default-field><hidden default-value="PtidArn"/></default-field></field>

                        <field name="idValue">
                            <default-field title="ID Number" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="idIssuedBy">
                            <default-field title="Country Issued" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${geoName}" key="${geoName}">
                                        <entity-find entity-name="moqui.basic.Geo">
                                            <econdition field-name="geoId" value="USA"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="idExpiryDate">
                            <default-field title="Expiration Date" validate-service="mkdecision.dashboard.PartyServices.update#Identity">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; moment(value,'MM-DD-YYYY') &gt; Date.now() || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="AddCurrentRegularEmployment">
            <widgets>
                <container-dialog id="AddCurrentRegularEmploymentDialog" button-text="Add Full or Part-time Employment" width="960">
                    <form-single name="AddCurrentRegularEmploymentForm" transition="addEmployment">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="relationshipTypeEnumId"><default-field><hidden default-value="PrtEmployee"/></default-field></field>

                        <field name="employerName">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employmentStatusEnumId">
                            <default-field title="Employment Status" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${description}" key="${enumId}">
                                        <entity-find entity-name="moqui.basic.Enumeration">
                                            <econdition field-name="enumTypeId" value="EmploymentStatus"/>
                                            <econditions combine="or">
                                                <econdition field-name="enumId" value="EmpsFullTime"/>
                                                <econdition field-name="enumId" value="EmpsPartTime"/>
                                            </econditions>
                                            <order-by field-name="description"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="monthlyIncome">
                            <default-field title="Gross Income Monthly" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                            </default-field>
                        </field>

                        <field name="durationHeader">
                            <default-field>
                                <label text="Duration" style="margin-tb-1"/>
                            </default-field>
                        </field>
                        <field name="years">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>
                        <field name="months">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>
                        <field name="jobTitle">
                            <default-field title="Occupation">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerAddress1">
                            <default-field title="Employer Address (Optional)" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerUnitNumber">
                            <default-field title="Apt / Unit # (Optional)">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerPostalCode">
                            <default-field title="ZIP Code (Optional)" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>
                        <field name="employerCity">
                            <default-field title="Employer City (Optional)" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerStateProvinceGeoId">
                            <default-field title="State (Optional)" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <drop-down allow-empty="true">
                                    <entity-options text="${geoName}" key="${toGeoId}">
                                        <entity-find entity-name="moqui.basic.GeoAssocAndToDetail">
                                            <econdition field-name="geoId" value="USA"/>
                                            <econdition field-name="geoTypeEnumId" value="GEOT_STATE"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="employerContactNumber">
                            <default-field title="Employer Phone Number (Optional)" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line  mask="###-###-####" input-type="tel"/>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>

                        <field-layout>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerName"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employmentStatusEnumId"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="monthlyIncome"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="durationHeader"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="years"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="months"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="jobTitle"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerContactNumber"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerAddress1"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerUnitNumber"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerPostalCode"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerCity"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerStateProvinceGeoId"/></field-col>
                            </field-col-row>

                            <fields-not-referenced/>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="submit"/></field-col>
                            </field-col-row>
                        </field-layout>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="EditCurrentRegularEmployment">
            <widgets>
                <container-dialog id="EditCurrentRegularEmploymentDialog" button-text="Edit" width="960" condition="orderEditable &amp;&amp; (employmentStatusEnumId == 'EmpsFullTime' || employmentStatusEnumId == 'EmpsPartTime')">
                    <form-single name="EditCurrentRegularEmploymentForm" transition="updateEmployment">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="partyRelationshipId"><default-field><hidden default-value="${employmentRelation.partyRelationshipId}"/></default-field></field>
                        <field name="relationshipTypeEnumId"><default-field><hidden default-value="PrtEmployee"/></default-field></field>

                        <field name="employerName">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employmentStatusEnumId">
                            <default-field title="Employment Status" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${description}" key="${enumId}">
                                        <entity-find entity-name="moqui.basic.Enumeration">
                                            <econdition field-name="enumTypeId" value="EmploymentStatus"/>
                                            <econditions combine="or">
                                                <econdition field-name="enumId" value="EmpsFullTime"/>
                                                <econdition field-name="enumId" value="EmpsPartTime"/>
                                            </econditions>
                                            <order-by field-name="description"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="monthlyIncome">
                            <default-field title="Gross Income Monthly" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                            </default-field>
                        </field>

                        <field name="durationHeader">
                            <default-field>
                                <label text="Duration" style="margin-tb-1"/>
                            </default-field>
                        </field>
                        <field name="years">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>
                        <field name="months">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>
                        <field name="jobTitle">
                            <default-field title="Occupation">
                                <text-line/>
                            </default-field>
                        </field>

                        <field name="employerContactNumber">
                            <default-field title="Employer Phone Number (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line  mask="###-###-####" input-type="tel"/>
                            </default-field>
                        </field>
                        <field name="employerAddress1">
                            <default-field title="Employer Address (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerUnitNumber">
                            <default-field title="Apt / Unit # (Optional)">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerPostalCode">
                            <default-field title="ZIP Code (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>
                        <field name="employerCity">
                            <default-field title="Employer City (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerStateProvinceGeoId">
                            <default-field title="State (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <drop-down allow-empty="true">
                                    <entity-options text="${geoName}" key="${toGeoId}">
                                        <entity-find entity-name="moqui.basic.GeoAssocAndToDetail">
                                            <econdition field-name="geoId" value="USA"/>
                                            <econdition field-name="geoTypeEnumId" value="GEOT_STATE"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>

                        <field-layout>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerName"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employmentStatusEnumId"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="monthlyIncome"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="durationHeader"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="years"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="months"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="jobTitle"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerContactNumber"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerAddress1"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerUnitNumber"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerPostalCode"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerCity"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerStateProvinceGeoId"/></field-col>
                            </field-col-row>

                            <fields-not-referenced/>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="submit"/></field-col>
                            </field-col-row>
                        </field-layout>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="AddCurrentSelfEmployment">
            <widgets>
                <container-dialog id="AddCurrentSelfEmploymentDialog" button-text="Add Contractor or Self-Employment" width="960">
                    <form-single name="AddCurrentSelfEmploymentForm" transition="addEmployment">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="relationshipTypeEnumId"><default-field><hidden default-value="PrtEmployee"/></default-field></field>

                        <field name="employerName">
                            <default-field title="Business Name" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerClassificationId">
                            <default-field title="Business Activity" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${description}" key="${partyClassificationId}">
                                        <entity-find entity-name="mantle.party.PartyClassification">
                                            <econdition field-name="classificationTypeEnumId" value="PcltIndustry"/>
                                            <order-by field-name="description"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="employmentStatusEnumId">
                            <default-field title="Employment Status" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${description}" key="${enumId}">
                                        <entity-find entity-name="moqui.basic.Enumeration">
                                            <econdition field-name="enumTypeId" value="EmploymentStatus"/>
                                            <econditions combine="or">
                                                <econdition field-name="enumId" value="EmpsContractor"/>
                                                <econdition field-name="enumId" value="EmpsSelf"/>
                                            </econditions>
                                            <order-by field-name="description"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="monthlyIncome">
                            <default-field title="Gross Income Monthly" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                            </default-field>
                        </field>

                        <field name="durationHeader">
                            <default-field>
                                <label text="Duration" style="margin-tb-1"/>
                            </default-field>
                        </field>
                        <field name="years">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>
                        <field name="months">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>

                        <field name="employerContactNumber">
                            <default-field title="Employer Phone Number (Optional)" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line  mask="###-###-####" input-type="tel"/>
                            </default-field>
                        </field>
                        <field name="employerAddress1">
                            <default-field title="Employer Address (Optional)" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerUnitNumber">
                            <default-field title="Apt / Unit # (Optional)">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerPostalCode">
                            <default-field title="ZIP Code (Optional)" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>
                        <field name="employerCity">
                            <default-field title="Employer City (Optional)" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerStateProvinceGeoId">
                            <default-field title="State (Optional)" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <drop-down allow-empty="true">
                                    <entity-options text="${geoName}" key="${toGeoId}">
                                        <entity-find entity-name="moqui.basic.GeoAssocAndToDetail">
                                            <econdition field-name="geoId" value="USA"/>
                                            <econdition field-name="geoTypeEnumId" value="GEOT_STATE"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>

                        <field-layout>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerClassificationId"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerName"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employmentStatusEnumId"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="monthlyIncome"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="durationHeader"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="years"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="months"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerContactNumber"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerAddress1"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerUnitNumber"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerPostalCode"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerCity"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerStateProvinceGeoId"/></field-col>
                            </field-col-row>

                            <fields-not-referenced/>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="submit"/></field-col>
                            </field-col-row>
                        </field-layout>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="EditCurrentSelfEmployment">
            <widgets>
                <container-dialog id="EditCurrentSelfEmploymentDialog" button-text="Edit" width="960" condition="orderEditable &amp;&amp; (employmentStatusEnumId == 'EmpsContractor' || employmentStatusEnumId == 'EmpsSelf')">
                    <form-single name="EditCurrentSelfEmploymentForm" transition="updateEmployment">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="partyRelationshipId"><default-field><hidden default-value="${employmentRelation.partyRelationshipId}"/></default-field></field>
                        <field name="relationshipTypeEnumId"><default-field><hidden default-value="PrtEmployee"/></default-field></field>

                        <field name="employerName">
                            <default-field title="Business Name" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerClassificationId">
                            <default-field title="Business Activity" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${description}" key="${partyClassificationId}">
                                        <entity-find entity-name="mantle.party.PartyClassification">
                                            <econdition field-name="classificationTypeEnumId" value="PcltIndustry"/>
                                            <order-by field-name="description"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="employmentStatusEnumId">
                            <default-field title="Employment Status" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${description}" key="${enumId}">
                                        <entity-find entity-name="moqui.basic.Enumeration">
                                            <econdition field-name="enumTypeId" value="EmploymentStatus"/>
                                            <econditions combine="or">
                                                <econdition field-name="enumId" value="EmpsContractor"/>
                                                <econdition field-name="enumId" value="EmpsSelf"/>
                                            </econditions>
                                            <order-by field-name="description"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="monthlyIncome">
                            <default-field title="Gross Income Monthly" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                            </default-field>
                        </field>

                        <field name="durationHeader">
                            <default-field>
                                <label text="Duration" style="margin-tb-1"/>
                            </default-field>
                        </field>
                        <field name="years">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>
                        <field name="months" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                            <default-field>
                                <text-line input-type="number"/>
                            </default-field>
                        </field>

                        <field name="employerContactNumber">
                            <default-field title="Employer Phone Number (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line  mask="###-###-####" input-type="tel"/>
                            </default-field>
                        </field>
                        <field name="employerAddress1">
                            <default-field title="Employer Address (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerUnitNumber">
                            <default-field title="Apt / Unit # (Optional)">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerPostalCode">
                            <default-field title="ZIP Code (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>
                        <field name="employerCity">
                            <default-field title="Employer City (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerStateProvinceGeoId">
                            <default-field title="State (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <drop-down allow-empty="true">
                                    <entity-options text="${geoName}" key="${toGeoId}">
                                        <entity-find entity-name="moqui.basic.GeoAssocAndToDetail">
                                            <econdition field-name="geoId" value="USA"/>
                                            <econdition field-name="geoTypeEnumId" value="GEOT_STATE"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>

                        <field-layout>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerClassificationId"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerName"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employmentStatusEnumId"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="monthlyIncome"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="durationHeader"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="years"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="months"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerContactNumber"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerAddress1"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerUnitNumber"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerPostalCode"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerCity"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerStateProvinceGeoId"/></field-col>
                            </field-col-row>

                            <fields-not-referenced/>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="submit"/></field-col>
                            </field-col-row>
                        </field-layout>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="AddPreviousRegularEmployment">
            <widgets>
                <container-dialog id="AddPreviousRegularEmploymentDialog" button-text="Add Full or Part-time Employment" width="960">
                    <form-single name="AddPreviousRegularEmploymentForm" transition="addEmployment">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="relationshipTypeEnumId"><default-field><hidden default-value="PrtPreviousEmployee"/></default-field></field>

                        <field name="employerName">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employmentStatusEnumId">
                            <default-field title="Employment Status" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${description}" key="${enumId}">
                                        <entity-find entity-name="moqui.basic.Enumeration">
                                            <econdition field-name="enumTypeId" value="EmploymentStatus"/>
                                            <econditions combine="or">
                                                <econdition field-name="enumId" value="EmpsFullTime"/>
                                                <econdition field-name="enumId" value="EmpsPartTime"/>
                                            </econditions>
                                            <order-by field-name="description"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="monthlyIncome">
                            <default-field title="Gross Income Monthly" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                            </default-field>
                        </field>

                        <field name="durationHeader">
                            <default-field>
                                <label text="Duration" style="margin-tb-1"/>
                            </default-field>
                        </field>
                        <field name="fromDate">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; (!!value &amp;&amp; value.indexOf('_') === -1) || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>
                        <field name="toDate">
                            <default-field>
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; (!!value &amp;&amp; value.indexOf('_') === -1) || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>
                        <field name="jobTitle">
                            <default-field title="Occupation">
                                <text-line/>
                            </default-field>
                        </field>

                        <field name="employerContactNumber">
                            <default-field title="Employer Phone Number (Optional)" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line  mask="###-###-####" input-type="tel"/>
                            </default-field>
                        </field>
                        <field name="employerAddress1">
                            <default-field title="Employer Address (Optional)" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerUnitNumber">
                            <default-field title="Apt / Unit # (Optional)">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerPostalCode" >
                            <default-field title="ZIP Code (Optional)" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>
                        <field name="employerCity">
                            <default-field title="Employer City (Optional)" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerStateProvinceGeoId">
                            <default-field title="State (Optional)" validate-service="mkdecision.dashboard.PartyServices.add#Employment">
                                <drop-down allow-empty="true">
                                    <entity-options text="${geoName}" key="${toGeoId}">
                                        <entity-find entity-name="moqui.basic.GeoAssocAndToDetail">
                                            <econdition field-name="geoId" value="USA"/>
                                            <econdition field-name="geoTypeEnumId" value="GEOT_STATE"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>

                        <field-layout>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerName"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employmentStatusEnumId"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="monthlyIncome"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="durationHeader"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="fromDate"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="toDate"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="jobTitle"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerContactNumber"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerAddress1"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerUnitNumber"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerPostalCode"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerCity"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerStateProvinceGeoId"/></field-col>
                            </field-col-row>

                            <fields-not-referenced/>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="submit"/></field-col>
                            </field-col-row>
                        </field-layout>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="EditPreviousRegularEmployment">
            <widgets>
                <container-dialog id="EditPreviousRegularEmploymentDialog" button-text="Edit" width="960" condition="orderEditable &amp;&amp; (employmentStatusEnumId == 'EmpsFullTime' || employmentStatusEnumId == 'EmpsPartTime')">
                    <form-single name="EditPreviousRegularEmploymentForm" transition="updateEmployment">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="partyRelationshipId"><default-field><hidden default-value="${employmentRelation.partyRelationshipId}"/></default-field></field>
                        <field name="relationshipTypeEnumId"><default-field><hidden default-value="PrtPreviousEmployee"/></default-field></field>

                        <field name="employerName">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employmentStatusEnumId">
                            <default-field title="Employment Status" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${description}" key="${enumId}">
                                        <entity-find entity-name="moqui.basic.Enumeration">
                                            <econdition field-name="enumTypeId" value="EmploymentStatus"/>
                                            <econditions combine="or">
                                                <econdition field-name="enumId" value="EmpsFullTime"/>
                                                <econdition field-name="enumId" value="EmpsPartTime"/>
                                            </econditions>
                                            <order-by field-name="description"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="monthlyIncome">
                            <default-field title="Gross Income Monthly" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                            </default-field>
                        </field>

                        <field name="durationHeader">
                            <default-field>
                                <label text="Duration" style="margin-tb-1"/>
                            </default-field>
                        </field>
                        <field name="fromDate">
                            <default-field>
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; (!!value &amp;&amp; value.indexOf('_') === -1) || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>
                        <field name="toDate">
                            <default-field>
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; (!!value &amp;&amp; value.indexOf('_') === -1) || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>
                        <field name="jobTitle">
                            <default-field title="Occupation">
                                <text-line/>
                            </default-field>
                        </field>

                        <field name="employerContactNumber">
                            <default-field title="Employer Phone Number (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line  mask="###-###-####" input-type="tel"/>
                            </default-field>
                        </field>
                        <field name="employerAddress1">
                            <default-field title="Employer Address (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerUnitNumber">
                            <default-field title="Apt / Unit # (Optional)">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerPostalCode">
                            <default-field title="ZIP Code (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>
                        <field name="employerCity">
                            <default-field title="Employer City (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerStateProvinceGeoId">
                            <default-field title="State (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <drop-down allow-empty="true">
                                    <entity-options text="${geoName}" key="${toGeoId}">
                                        <entity-find entity-name="moqui.basic.GeoAssocAndToDetail">
                                            <econdition field-name="geoId" value="USA"/>
                                            <econdition field-name="geoTypeEnumId" value="GEOT_STATE"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>

                        <field-layout>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerName"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employmentStatusEnumId"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="monthlyIncome"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="durationHeader"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="fromDate"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="toDate"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="jobTitle"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerContactNumber"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerAddress1"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerUnitNumber"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerPostalCode"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerCity"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerStateProvinceGeoId"/></field-col>
                            </field-col-row>

                            <fields-not-referenced/>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="submit"/></field-col>
                            </field-col-row>
                        </field-layout>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="AddPreviousSelfEmployment">
            <widgets>
                <container-dialog id="AddPreviousSelfEmploymentDialog" button-text="Add Contractor or Self-Employment" width="960">
                    <form-single name="AddPreviousSelfEmploymentForm" transition="addEmployment">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="relationshipTypeEnumId"><default-field><hidden default-value="PrtPreviousEmployee"/></default-field></field>

                        <field name="employerName">
                            <default-field title="Business Name" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerClassificationId">
                            <default-field title="Business Activity" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${description}" key="${partyClassificationId}">
                                        <entity-find entity-name="mantle.party.PartyClassification">
                                            <econdition field-name="classificationTypeEnumId" value="PcltIndustry"/>
                                            <order-by field-name="description"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="employmentStatusEnumId">
                            <default-field title="Employment Status" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${description}" key="${enumId}">
                                        <entity-find entity-name="moqui.basic.Enumeration">
                                            <econdition field-name="enumTypeId" value="EmploymentStatus"/>
                                            <econditions combine="or">
                                                <econdition field-name="enumId" value="EmpsContractor"/>
                                                <econdition field-name="enumId" value="EmpsSelf"/>
                                            </econditions>
                                            <order-by field-name="description"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="monthlyIncome">
                            <default-field title="Gross Income Monthly" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                            </default-field>
                        </field>

                        <field name="durationHeader">
                            <default-field>
                                <label text="Duration" style="margin-tb-1"/>
                            </default-field>
                        </field>
                        <field name="fromDate">
                            <default-field>
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; (!!value &amp;&amp; value.indexOf('_') === -1) || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>
                        <field name="toDate">
                            <default-field>
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; (!!value &amp;&amp; value.indexOf('_') === -1) || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>

                        <field name="employerContactNumber">
                            <default-field title="Employer Phone Number (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line  mask="###-###-####" input-type="tel"/>
                            </default-field>
                        </field>
                        <field name="employerAddress1">
                            <default-field title="Employer Address (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerUnitNumber">
                            <default-field title="Apt / Unit # (Optional)">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerPostalCode">
                            <default-field title="ZIP Code (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>
                        <field name="employerCity">
                            <default-field title="Employer City (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerStateProvinceGeoId">
                            <default-field title="State (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <drop-down allow-empty="true">
                                    <entity-options text="${geoName}" key="${toGeoId}">
                                        <entity-find entity-name="moqui.basic.GeoAssocAndToDetail">
                                            <econdition field-name="geoId" value="USA"/>
                                            <econdition field-name="geoTypeEnumId" value="GEOT_STATE"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>

                        <field-layout>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerClassificationId"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerName"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employmentStatusEnumId"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="monthlyIncome"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="durationHeader"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="fromDate"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="toDate"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerContactNumber"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerAddress1"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerUnitNumber"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerPostalCode"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerCity"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerStateProvinceGeoId"/></field-col>
                            </field-col-row>

                            <fields-not-referenced/>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="submit"/></field-col>
                            </field-col-row>
                        </field-layout>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="EditPreviousSelfEmployment">
            <widgets>
                <container-dialog id="EditPreviousSelfEmploymentDialog" button-text="Edit" width="960" condition="orderEditable &amp;&amp; (employmentStatusEnumId == 'EmpsContractor' || employmentStatusEnumId == 'EmpsSelf')">
                    <form-single name="EditPreviousSelfEmploymentForm" transition="updateEmployment">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="partyRelationshipId"><default-field><hidden default-value="${employmentRelation.partyRelationshipId}"/></default-field></field>
                        <field name="relationshipTypeEnumId"><default-field><hidden default-value="PrtPreviousEmployee"/></default-field></field>

                        <field name="employerName">
                            <default-field title="Business Name" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerClassificationId">
                            <default-field title="Business Activity" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${description}" key="${partyClassificationId}">
                                        <entity-find entity-name="mantle.party.PartyClassification">
                                            <econdition field-name="classificationTypeEnumId" value="PcltIndustry"/>
                                            <order-by field-name="description"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="employmentStatusEnumId">
                            <default-field title="Employment Status" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${description}" key="${enumId}">
                                        <entity-find entity-name="moqui.basic.Enumeration">
                                            <econdition field-name="enumTypeId" value="EmploymentStatus"/>
                                            <econditions combine="or">
                                                <econdition field-name="enumId" value="EmpsContractor"/>
                                                <econdition field-name="enumId" value="EmpsSelf"/>
                                            </econditions>
                                            <order-by field-name="description"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="monthlyIncome">
                            <default-field title="Gross Income Monthly" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                            </default-field>
                        </field>

                        <field name="durationHeader">
                            <default-field>
                                <label text="Duration" style="margin-tb-1"/>
                            </default-field>
                        </field>
                        <field name="fromDate">
                            <default-field>
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; (!!value &amp;&amp; value.indexOf('_') === -1) || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>
                        <field name="toDate">
                            <default-field>
                                <date-time type="date" size="200" format="MM-dd-yyyy" rules="value =&gt; (!!value &amp;&amp; value.indexOf('_') === -1) || 'Please enter a valid date.'"/>
                            </default-field>
                        </field>

                        <field name="employerContactNumber">
                            <default-field title="Employer Phone Number (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line  mask="###-###-####" input-type="tel"/>
                            </default-field>
                        </field>
                        <field name="employerAddress1">
                            <default-field title="Employer Address (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerUnitNumber">
                            <default-field title="Apt / Unit # (Optional)">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerPostalCode">
                            <default-field title="ZIP Code (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>
                        <field name="employerCity">
                            <default-field title="Employer City (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="employerStateProvinceGeoId">
                            <default-field title="State (Optional)" validate-service="mkdecision.dashboard.PartyServices.update#Employment">
                                <drop-down allow-empty="true">
                                    <entity-options text="${geoName}" key="${toGeoId}">
                                        <entity-find entity-name="moqui.basic.GeoAssocAndToDetail">
                                            <econdition field-name="geoId" value="USA"/>
                                            <econdition field-name="geoTypeEnumId" value="GEOT_STATE"/>
                                            <order-by field-name="geoName"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>

                        <field-layout>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerClassificationId"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerName"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employmentStatusEnumId"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="monthlyIncome"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="durationHeader"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="fromDate"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="toDate"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerContactNumber"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="employerAddress1"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerUnitNumber"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerPostalCode"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerCity"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="employerStateProvinceGeoId"/></field-col>
                            </field-col-row>

                            <fields-not-referenced/>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="submit"/></field-col>
                            </field-col-row>
                        </field-layout>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="AddIncomeSource">
            <widgets>
                <container-dialog id="AddIncomeSourceDialog" button-text="Add Income Source" width="960">
                    <form-single name="AddIncomeSourceForm" transition="addIncomeSource">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>

                        <field name="financialFlowTypeEnumId">
                            <default-field title="Income Source Type">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${enumDescription}" key="${enumId}">
                                        <entity-find entity-name="moqui.basic.EnumGroupEnumAndParent">
                                            <econdition field-name="enumGroupEnumId" value="DefaultDashboardIncomeSourceGroup"/>
                                            <order-by field-name="enumDescription"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="amount">
                            <default-field title="Gross Income Monthly" validate-service="mkdecision.dashboard.PartyServices.add#IncomeSource">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                            </default-field>
                        </field>

                        <field name="durationHeader">
                            <default-field>
                                <label text="Duration" style="margin-tb-1"/>
                            </default-field>
                        </field>
                        <field name="years">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.add#IncomeSource">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>
                        <field name="months">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.add#IncomeSource">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>

                        <field-layout>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="financialFlowTypeEnumId"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="amount"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="durationHeader"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="years"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="months"/></field-col>
                            </field-col-row>

                            <fields-not-referenced/>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="submit"/></field-col>
                            </field-col-row>
                        </field-layout>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="EditIncomeSource">
            <widgets>
                <container-dialog id="EditIncomeSourceDialog" button-text="Edit" width="960" condition="orderEditable">
                    <form-single name="EditIncomeSourceForm" transition="updateIncomeSource">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="financialFlowId"><default-field><hidden default-value="${incomeFinFlow.financialFlowId}"/></default-field></field>

                        <field name="financialFlowTypeEnumId">
                            <default-field title="Income Source Type" validate-service="mkdecision.dashboard.PartyServices.update#IncomeSource">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${enumDescription}" key="${enumId}">
                                        <entity-find entity-name="moqui.basic.EnumGroupEnumAndParent">
                                            <econdition field-name="enumGroupEnumId" value="DefaultDashboardIncomeSourceGroup"/>
                                            <order-by field-name="enumDescription"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="amount">
                            <default-field title="Gross Income Monthly" validate-service="mkdecision.dashboard.PartyServices.update#IncomeSource">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                            </default-field>
                        </field>

                        <field name="durationHeader">
                            <default-field>
                                <label text="Duration" style="margin-tb-1"/>
                            </default-field>
                        </field>
                        <field name="years">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.update#IncomeSource">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>
                        <field name="months">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.update#IncomeSource">
                                <text-line input-type="number"/>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>

                        <field-layout>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="financialFlowTypeEnumId"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="amount"/></field-col>
                            </field-col-row>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="durationHeader"/></field-col>
                            </field-col-row>
                            <field-col-row>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="years"/></field-col>
                                <field-col xs="12" sm="6" md="6" lg="6"><field-ref name="months"/></field-col>
                            </field-col-row>

                            <fields-not-referenced/>

                            <field-col-row>
                                <field-col xs="12" sm="12" md="12" lg="12"><field-ref name="submit"/></field-col>
                            </field-col-row>
                        </field-layout>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="EditProperty">
            <widgets>
                <container-dialog id="EditPropertyDialog" button-text="Edit" condition="orderEditable">
                    <form-single name="EditPropertyForm" transition="updateProperty">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="assetId"><default-field><hidden default-value="${assetId}"/></default-field></field>

                        <field name="classEnumId">
                            <default-field title="Property Type">
                                <drop-down required-manual-select="true">
                                    <entity-options text="${description}" key="${enumId}">
                                        <entity-find entity-name="moqui.basic.Enumeration">
                                            <econdition field-name="enumTypeId" value="AssetClass"/>
                                            <econdition field-name="parentEnumId" value="AsClsProperty"/>
                                            <order-by field-name="sequenceNum,description"/>
                                        </entity-find>
                                    </entity-options>
                                </drop-down>
                            </default-field>
                        </field>
                        <field name="salvageValue">
                            <default-field title="Current Property Value (Estimate)">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                            </default-field>
                        </field>
                        <field name="acquireCost">
                            <default-field title="Original Purchase Price">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                            </default-field>
                        </field>
                        <field name="hoaFeeMonthly">
                            <default-field title="HOA Fee Monthly">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                            </default-field>
                        </field>
                        <field name="propertyTaxesMonthly">
                            <default-field title="Property Taxes Monthly">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                            </default-field>
                        </field>
                        <field name="propertyInsuranceCostsMonthly">
                            <default-field title="Property Insurance Costs Monthly">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="AddMortgage">
            <widgets>
                <container-dialog id="AddMortgageDialog" button-text="Add Mortgage">
                    <form-single name="AddMortgageForm" transition="createMortgage">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>

                        <field name="lenderName">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.create#Mortgage">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="mortgageBalance">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.create#Mortgage">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                            </default-field>
                        </field>
                        <field name="mortgagePaymentMonthly">
                            <default-field validate-service="mkdecision.dashboard.PartyServices.create#Mortgage">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                                <label text="Exclude property taxes, insurance, or HOA fees" style="text-caption"/>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>

        <section name="EditMortgage">
            <widgets>
                <container-dialog id="EditMortgageDialog" button-text="Edit" condition="orderEditable">
                    <form-single name="EditMortgageForm" transition="updateMortgage">
                        <field name="orderId"><default-field><hidden default-value="${orderId}"/></default-field></field>
                        <field name="orderPartSeqId"><default-field><hidden default-value="${orderPartSeqId}"/></default-field></field>
                        <field name="partyId"><default-field><hidden default-value="${partyId}"/></default-field></field>
                        <field name="partyRelationshipId"><default-field><hidden default-value="${partyRelationshipId}"/></default-field></field>

                        <field name="lenderName">
                            <default-field  validate-service="mkdecision.dashboard.PartyServices.update#Mortgage">
                                <text-line/>
                            </default-field>
                        </field>
                        <field name="mortgageBalance">
                            <default-field  validate-service="mkdecision.dashboard.PartyServices.update#Mortgage">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                            </default-field>
                        </field>
                        <field name="mortgagePaymentMonthly">
                            <default-field  validate-service="mkdecision.dashboard.PartyServices.update#Mortgage">
                                <text-line input-type="number" format="#.##" prefix="$"/>
                                <label text="Exclude property taxes, insurance, or HOA fees" style="text-caption"/>
                            </default-field>
                        </field>

                        <field name="submit">
                            <default-field>
                                <submit text="Save"/>
                            </default-field>
                        </field>
                    </form-single>
                </container-dialog>
            </widgets>
        </section>
    </widgets>

</screen>
